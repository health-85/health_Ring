package com.sdk.satwatch.adapter;import android.annotation.SuppressLint;import android.content.Context;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.BaseAdapter;import android.widget.TextView;import com.sdk.satwatch.R;import com.sw.watches.bean.DeviceModule;import java.util.ArrayList;import java.util.List;public class LeDeviceListAdapter extends BaseAdapter {    static class ViewHolder {        TextView deviceName;        TextView deviceAddress;        TextView device_Rssi;    }    private ArrayList<DeviceModule> mLeDevices;    private LayoutInflater mInflator;    public LeDeviceListAdapter(Context context) {        super();        this.mInflator = LayoutInflater.from(context);        mLeDevices = new ArrayList<DeviceModule>();    }    public String addDevice(DeviceModule device) {        if (isRepeat(mLeDevices, device)) {            mLeDevices.add(0, device);            return device.getMac();        } else {            return "";        }    }    public void addAllData(List<DeviceModule> list){        mLeDevices.clear();        mLeDevices.addAll(list);    }    public boolean isRepeat(ArrayList<DeviceModule> list_device, DeviceModule device) {        boolean result = true;        for (int i = 0; i < list_device.size(); i++) {            if (list_device.get(i).getMac().equals(device.getMac())) {                return false;            }        }        return result;    }    public DeviceModule getDevice(int position) {        return mLeDevices.get(position);    }    public void clear() {        mLeDevices.clear();        notifyDataSetChanged();    }    @Override    public int getCount() {        return mLeDevices.size();    }    @Override    public Object getItem(int i) {        return mLeDevices.get(i);    }    @Override    public long getItemId(int i) {        return i;    }    @SuppressLint("ResourceAsColor")    @Override    public View getView(int i, View view, ViewGroup viewGroup) {        ViewHolder viewHolder;        /* General ListView optimization code. */        if (view == null) {            view = mInflator.inflate(R.layout.listitem_device, null);            viewHolder = new ViewHolder();            viewHolder.deviceAddress = (TextView) view                    .findViewById(R.id.device_address);            viewHolder.deviceName = (TextView) view                    .findViewById(R.id.device_name);            viewHolder.device_Rssi = (TextView) view                    .findViewById(R.id.device_rssi);            view.setTag(viewHolder);        } else {            viewHolder = (ViewHolder) view.getTag();        }        DeviceModule device = mLeDevices.get(i);        viewHolder.device_Rssi.setText(String.valueOf(device.getRssi()));        viewHolder.deviceAddress.setText(device.getDevice().getAddress());        viewHolder.deviceName.setText(device.getName());        return view;    }}